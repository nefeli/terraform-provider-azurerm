load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")

go_library(
    name = "validate",
    srcs = [
        "capacity_reservation_group_name.go",
        "capacity_reservation_name.go",
        "community_gallery_image_id.go",
        "community_gallery_image_version_id.go",
        "compute.go",
        "data_disk_id.go",
        "dedicated_host_group_name.go",
        "dedicated_host_name.go",
        "disk_encryption_set_id.go",
        "disk_encryption_set_name.go",
        "disk_size_gb.go",
        "domain_name_label.go",
        "host_group_id.go",
        "hybrid_machine_id.go",
        "linux_admin_password.go",
        "linux_admin_username.go",
        "linux_computer_name.go",
        "managed_disk_size_gb.go",
        "orchestrated_vmss_public_ip_sku.go",
        "orchestrated_vmss_sku.go",
        "plan_id.go",
        "shared_gallery_image_id.go",
        "shared_gallery_image_version_id.go",
        "shared_image_id.go",
        "shared_image_version_id.go",
        "snapshot_name.go",
        "spot_max_price.go",
        "ssh_key.go",
        "ssh_public_key_id.go",
        "virtual_machine_extension_id.go",
        "virtual_machine_id.go",
        "virtual_machine_name.go",
        "virtual_machine_scale_set_extension_id.go",
        "virtual_machine_scale_set_id.go",
        "vmss_instance_id.go",
        "windows_admin_password.go",
        "windows_admin_username.go",
        "windows_computer_name.go",
    ],
    importpath = "github.com/hashicorp/terraform-provider-azurerm/internal/services/compute/validate",
    visibility = ["//:__subpackages__"],
    deps = [
        "//internal/services/compute/parse",
        "//internal/tf/pluginsdk",
        "//internal/tf/validation",
        "//vendor/github.com/tombuildsstuff/kermit/sdk/compute/2023-03-01/compute",
        "//vendor/golang.org/x/crypto/ssh",
    ],
)

go_test(
    name = "validate_test",
    srcs = [
        "community_gallery_image_id_test.go",
        "community_gallery_image_version_id_test.go",
        "compute_test.go",
        "data_disk_id_test.go",
        "disk_encryption_set_id_test.go",
        "disk_encryption_set_name_test.go",
        "domain_name_label_test.go",
        "host_group_id_test.go",
        "hybrid_machine_id_test.go",
        "linux_admin_password_test.go",
        "linux_admin_username_test.go",
        "linux_computer_name_test.go",
        "plan_id_test.go",
        "shared_gallery_image_id_test.go",
        "shared_gallery_image_version_id_test.go",
        "shared_image_id_test.go",
        "shared_image_version_id_test.go",
        "snapshot_name_test.go",
        "ssh_key_test.go",
        "ssh_public_key_id_test.go",
        "virtual_machine_extension_id_test.go",
        "virtual_machine_id_test.go",
        "virtual_machine_name_test.go",
        "virtual_machine_scale_set_extension_id_test.go",
        "virtual_machine_scale_set_id_test.go",
        "vmss_instance_id_test.go",
        "windows_admin_password_test.go",
        "windows_admin_username_test.go",
        "windows_computer_name_test.go",
    ],
    embed = [":validate"],
)
