load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")

go_library(
    name = "containers",
    srcs = [
        "container_connected_registry_resource.go",
        "container_group_data_source.go",
        "container_group_resource.go",
        "container_registry_agent_pool_resource.go",
        "container_registry_data_source.go",
        "container_registry_resource.go",
        "container_registry_scope_map_data_source.go",
        "container_registry_scope_map_resource.go",
        "container_registry_task_resource.go",
        "container_registry_task_schedule_run_now_resource.go",
        "container_registry_token_data_source.go",
        "container_registry_token_password_resource.go",
        "container_registry_token_resource.go",
        "container_registry_webhook_resource.go",
        "kubernetes_addons.go",
        "kubernetes_cluster_data_source.go",
        "kubernetes_cluster_extension_resource.go",
        "kubernetes_cluster_node_pool_data_source.go",
        "kubernetes_cluster_node_pool_resource.go",
        "kubernetes_cluster_resource.go",
        "kubernetes_cluster_trusted_access_role_binding_resource_gen.go",
        "kubernetes_cluster_validate.go",
        "kubernetes_fleet_manager_resource_gen.go",
        "kubernetes_flux_configuration_resource.go",
        "kubernetes_node_pool_snapshot_data_source.go",
        "kubernetes_nodepool.go",
        "kubernetes_service_version_data_source.go",
        "probe.go",
        "registration.go",
        "registration_gen.go",
        "resourceids.go",
    ],
    importpath = "github.com/hashicorp/terraform-provider-azurerm/internal/services/containers",
    visibility = ["//:__subpackages__"],
    deps = [
        "//helpers/azure",
        "//helpers/tf",
        "//helpers/validate",
        "//internal/clients",
        "//internal/features",
        "//internal/locks",
        "//internal/sdk",
        "//internal/services/compute/validate",
        "//internal/services/containers/client",
        "//internal/services/containers/kubernetes",
        "//internal/services/containers/migration",
        "//internal/services/containers/parse",
        "//internal/services/containers/validate",
        "//internal/services/keyvault/client",
        "//internal/services/keyvault/parse",
        "//internal/services/keyvault/validate",
        "//internal/services/network/validate",
        "//internal/services/resource/client",
        "//internal/services/storage/parse",
        "//internal/services/storage/validate",
        "//internal/tags",
        "//internal/tf/pluginsdk",
        "//internal/tf/suppress",
        "//internal/tf/validation",
        "//internal/timeouts",
        "//utils",
        "//vendor/github.com/Azure/go-autorest/autorest/azure",
        "//vendor/github.com/Azure/go-autorest/autorest/date",
        "//vendor/github.com/hashicorp/go-azure-helpers/lang/pointer",
        "//vendor/github.com/hashicorp/go-azure-helpers/lang/response",
        "//vendor/github.com/hashicorp/go-azure-helpers/resourcemanager/commonids",
        "//vendor/github.com/hashicorp/go-azure-helpers/resourcemanager/commonschema",
        "//vendor/github.com/hashicorp/go-azure-helpers/resourcemanager/edgezones",
        "//vendor/github.com/hashicorp/go-azure-helpers/resourcemanager/identity",
        "//vendor/github.com/hashicorp/go-azure-helpers/resourcemanager/location",
        "//vendor/github.com/hashicorp/go-azure-helpers/resourcemanager/tags",
        "//vendor/github.com/hashicorp/go-azure-helpers/resourcemanager/zones",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/compute/2022-03-01/capacityreservationgroups",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/compute/2022-03-01/proximityplacementgroups",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerinstance/2023-05-01/containerinstance",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2019-06-01-preview/agentpools",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2019-06-01-preview/registries",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2019-06-01-preview/runs",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2019-06-01-preview/tasks",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2021-08-01-preview",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2021-08-01-preview/connectedregistries",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2021-08-01-preview/operation",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2021-08-01-preview/registries",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2021-08-01-preview/replications",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2021-08-01-preview/scopemaps",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2021-08-01-preview/tokens",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2021-08-01-preview/webhooks",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerservice/2019-08-01/containerservices",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerservice/2022-09-02-preview/fleets",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerservice/2023-03-02-preview/trustedaccess",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerservice/2023-04-02-preview/agentpools",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerservice/2023-04-02-preview/maintenanceconfigurations",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerservice/2023-04-02-preview/managedclusters",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerservice/2023-04-02-preview/snapshots",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/dns/2018-05-01/zones",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/kubernetesconfiguration/2022-11-01/extensions",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/kubernetesconfiguration/2022-11-01/fluxconfiguration",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/operationalinsights/2020-08-01/workspaces",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/privatedns/2020-06-01/privatezones",
        "//vendor/github.com/hashicorp/go-version",
        "//vendor/github.com/hashicorp/terraform-plugin-sdk/v2/helper/schema",
    ],
)

go_test(
    name = "containers_test",
    srcs = [
        "container_connected_registry_resource_test.go",
        "container_group_data_source_test.go",
        "container_group_resource_test.go",
        "container_registry_agent_pool_resource_test.go",
        "container_registry_data_source_test.go",
        "container_registry_resource_test.go",
        "container_registry_scope_map_data_source_test.go",
        "container_registry_scope_map_resource_test.go",
        "container_registry_task_resource_test.go",
        "container_registry_task_schedule_run_now_resource_test.go",
        "container_registry_token_data_source_test.go",
        "container_registry_token_password_resource_test.go",
        "container_registry_token_resource_test.go",
        "container_registry_webhook_resource_test.go",
        "kubernetes_cluster_addons_resource_test.go",
        "kubernetes_cluster_auth_resource_test.go",
        "kubernetes_cluster_data_source_test.go",
        "kubernetes_cluster_extension_resource_test.go",
        "kubernetes_cluster_network_resource_test.go",
        "kubernetes_cluster_node_pool_data_source_test.go",
        "kubernetes_cluster_node_pool_resource_test.go",
        "kubernetes_cluster_other_resource_test.go",
        "kubernetes_cluster_resource_test.go",
        "kubernetes_cluster_scaling_resource_test.go",
        "kubernetes_cluster_trusted_access_role_binding_resource_gen_test.go",
        "kubernetes_cluster_upgrade_test.go",
        "kubernetes_fleet_manager_resource_gen_test.go",
        "kubernetes_flux_configuration_resource_test.go",
        "kubernetes_node_pool_snapshot_data_source_test.go",
        "kubernetes_service_version_data_source_test.go",
    ],
    deps = [
        "//internal/acceptance",
        "//internal/acceptance/check",
        "//internal/clients",
        "//internal/services/containers/parse",
        "//internal/services/containers/validate",
        "//internal/tf/pluginsdk",
        "//utils",
        "//vendor/github.com/hashicorp/go-azure-helpers/lang/pointer",
        "//vendor/github.com/hashicorp/go-azure-helpers/lang/response",
        "//vendor/github.com/hashicorp/go-azure-helpers/resourcemanager/commonids",
        "//vendor/github.com/hashicorp/go-azure-helpers/resourcemanager/location",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerinstance/2023-05-01/containerinstance",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2019-06-01-preview/agentpools",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2019-06-01-preview/tasks",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2021-08-01-preview/connectedregistries",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2021-08-01-preview/registries",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2021-08-01-preview/scopemaps",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2021-08-01-preview/tokens",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerregistry/2021-08-01-preview/webhooks",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerservice/2022-09-02-preview/fleets",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerservice/2023-03-02-preview/trustedaccess",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerservice/2023-04-02-preview/agentpools",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/containerservice/2023-04-02-preview/snapshots",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/kubernetesconfiguration/2022-11-01/extensions",
        "//vendor/github.com/hashicorp/go-azure-sdk/resource-manager/kubernetesconfiguration/2022-11-01/fluxconfiguration",
        "//vendor/github.com/hashicorp/terraform-plugin-testing/terraform",
    ],
)
